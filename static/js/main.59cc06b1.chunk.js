(this["webpackJsonppixel-pixy"]=this["webpackJsonppixel-pixy"]||[]).push([[0],[,,,,,,,,,,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var c=n(0),o=n(1),r=n.n(o),a=n(7),i=n.n(a),d=(n(15),n(2)),s=(n(16),n(17),function(e){var t=e.color,n=e.onCanvasCreated,r=e.loadedImage,a=e.changeToClear,i=e.pixelDimensions,d=Object(o.useRef)(null);Object(o.useEffect)((function(){var e=d.current;e&&n(e)}),[n]),Object(o.useEffect)((function(){var e=d.current,t=null===e||void 0===e?void 0:e.getContext("2d");t&&e&&r&&t.drawImage(r,0,0,e.width,e.height)}),[r]),Object(o.useEffect)((function(){var e=d.current,t=null===e||void 0===e?void 0:e.getContext("2d");t&&e&&t.clearRect(0,0,e.width,e.height)}),[a]);var s=function(e){var n=e.changedTouches[0];if(n){var c=d.current,o=null===c||void 0===c?void 0:c.getContext("2d");if(o&&c){var r=n,a=r.clientX/c.clientWidth*i,s=r.clientY/c.clientHeight*i,u=Math.floor(a),l=Math.floor(s);o.fillStyle=t,o.fillRect(u,l,1,1)}}};return Object(c.jsx)("div",{className:"CanvasContainer",children:Object(c.jsx)("canvas",{style:{backgroundSize:"".concat(100/i/2,"%")},ref:d,width:i,height:i,onTouchEnd:s,onTouchMove:s})})}),u=n(9),l=(n(18),function(e){var t=e.color,n=e.onTouchEnd;return Object(c.jsx)("div",{onTouchEnd:n,style:{backgroundColor:t},className:"ColorSquare"})}),f=(n(19),function(e){var t=e.colorSelected,n=e.onColorPicked,r=Object(o.useState)([]),a=Object(d.a)(r,2),i=a[0],s=a[1];return Object(o.useEffect)((function(){var e=Object(u.a)(i);e.unshift(t),e.length>8&&(e=e.slice(0,8)),s(e)}),[t]),Object(c.jsxs)("div",{className:"ColorPickerHistory",children:["Color History",Object(c.jsx)("div",{className:"RowZero",children:i.map((function(e,t){return Object(c.jsx)(l,{onTouchEnd:function(){return n(e)},color:e},t)}))})]})}),b=(n(20),function(e){var t=e.color;return Object(c.jsxs)("div",{className:"CurrentColor",children:[Object(c.jsx)("div",{children:"CurrentColor"}),Object(c.jsx)(l,{color:t})]})}),j=n(6),h=n.n(j),v=n(8),O=function(e){var t=e.setLoadedImage;return Object(c.jsx)("input",{onChange:function(){var e=Object(v.a)(h.a.mark((function e(n){var c,o;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=new Promise((function(e,t){var c=URL.createObjectURL(n.target.files[0]),o=new Image;o.src=c,o.onload=function(){return e(o)}})),e.next=3,c;case 3:o=e.sent,t(o);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),type:"file"})},g=function(e){var t=e.canvas;return Object(c.jsx)("a",{onTouchEnd:function(e){var n=document.createElement("canvas");n.width=window.innerWidth,n.height=window.innerWidth;var c=n.getContext("2d");c.imageSmoothingEnabled=!1,c.drawImage(t,0,0,n.width,n.height);var o=n.toDataURL("image/png");e.target.href=o},href:"/",download:"my-pixel-art.png",children:"Save"})},x=function(e){var t=e.onClearPressed;return Object(c.jsx)("button",{onTouchEnd:t,children:"Clear Canvas"})},C=(n(22),function(e){var t=e.pixelDimensions,n=e.rootCanvas,r=Object(o.useRef)(null);return Object(o.useEffect)((function(){var e=r.current,n=null===e||void 0===e?void 0:e.getContext("2d");if(n&&e){n.clearRect(0,0,e.width,e.height),n.strokeStyle="lightgrey",n.lineWidth=1;for(var c=e.width/t,o=0;o<t;o++)n.moveTo(Math.round(o*c),0),n.lineTo(Math.round(o*c),e.height),n.stroke();var a=e.height/t;console.log(a);for(var i=0;i<t;i++)n.moveTo(0,Math.round(i*a)),n.lineTo(e.width,Math.round(i*a)),n.stroke()}})),Object(c.jsx)("canvas",{ref:r,className:"Grid",width:n.clientWidth,height:n.clientHeight})}),m=function(e){var t=e.onToggle,n=e.text;return Object(c.jsx)("button",{onTouchEnd:t,children:n})},p=(n(23),function(e){var t=e.onColorPicked;return Object(c.jsx)("div",{className:"ColorPickerSwatch",children:["#060608","#141013","#3b1725","#73172d","#b4202a","#df3e23","#fa6a0a","#f9a31b","#ffd541","#fffc40","#d6f264","#9cdb43","#59c135","#14a02e","#1a7a3e","#24523b","#122020","#143464","#285cc4","#249fde","#20d6c7","#a6fcdb","#ffffff","#fef3c0","#fad6b8","#f5a097","#e86a73","#bc4a9b","#793a80","#403353","#242234","#221c1a","#322b28","#71413b","#bb7547","#dba463","#f4d29c","#dae0ea","#b3b9d1","#8b93af","#6d758d","#4a5462","#333941","#422433","#5b3138","#8e5252","#ba756a","#e9b5a3","#e3e6ff","#b9bffb","#849be4","#588dbe","#477d85","#23674e","#328464","#5daf8d","#92dcba","#cdf7e2","#e4d2aa","#c7b08b","#a08662","#796755","#5a4e44","#423934"].map((function(e,n){return Object(c.jsx)("div",{style:{gridRow:(n-n%8)/8+1,gridColumn:n%8+1},children:Object(c.jsx)(l,{onTouchEnd:function(){return t(e)},color:e},e)})}))})});var w=function(){var e=Object(o.useState)("black"),t=Object(d.a)(e,2),n=t[0],r=t[1],a=Object(o.useState)(!1),i=Object(d.a)(a,2),u=i[0],l=i[1],j=Object(o.useState)(!1),h=Object(d.a)(j,2),v=h[0],w=h[1],S=Object(o.useState)(),T=Object(d.a)(S,2),k=T[0],E=T[1],y=Object(o.useState)(),P=Object(d.a)(y,2),R=P[0],I=P[1],M=Object(o.useState)(0),N=Object(d.a)(M,2),H=N[0],D=N[1];return Object(c.jsxs)("div",{className:"App",children:[v&&Object(c.jsx)(p,{onColorPicked:r}),Object(c.jsx)(s,{onCanvasCreated:E,color:n,loadedImage:R,changeToClear:H,pixelDimensions:8}),k&&u&&Object(c.jsx)(C,{pixelDimensions:8,rootCanvas:k}),Object(c.jsx)(f,{onColorPicked:r,colorSelected:n}),Object(c.jsx)(b,{color:n}),Object(c.jsx)(O,{setLoadedImage:I}),k&&Object(c.jsx)(g,{canvas:k}),Object(c.jsx)(x,{onClearPressed:function(){D(H+1)}}),Object(c.jsx)(m,{onToggle:function(){return l(!u)},text:u?"Hide Grid":"Show Grid"}),Object(c.jsx)(m,{onToggle:function(){return w(!v)},text:u?"Hide Color Picker":"Show Color Picker"})]})};i.a.render(Object(c.jsx)(r.a.StrictMode,{children:Object(c.jsx)(w,{})}),document.getElementById("root"))}],[[24,1,2]]]);
//# sourceMappingURL=main.59cc06b1.chunk.js.map